<!-- Image Modal -->
<div id="imageModal" class="modal-overlay" onclick="if(event.target === this) closeImageModal()">
    <div class="modal-content">
        <button class="modal-close" onclick="closeImageModal()">√ó</button>
        <img id="modalImage" class="modal-image" alt="Full size image">
        <div class="modal-controls">
            <button class="modal-button download-btn" onclick="downloadModalImage()">
                <span>‚¨áÔ∏è</span>Download Image
            </button>
        </div>
    </div>
</div>

<div class="container">
    <header class="app-header">
        <div class="brand">
            <div class="logo">AI</div>
            <div>
                <h1>AI Image Studio</h1>
                <div class="subtitle">Generate, save, and manage beautiful AI images</div>
            </div>
        </div>
    </header>
    <div id="userSection">
        <div id="mainPages">
            <div id="homePage">
                <div class="card">
                    <form id="imageForm">
                        <div class="form-group">
                            <label for="prompt">Describe the image you want to generate:</label>
                            <textarea
                                id="prompt"
                                name="prompt"
                                class="prompt-input"
                                placeholder="A majestic mountain landscape at sunset with vibrant colors..."
                                required
                            ></textarea>
                        </div>
                        <button type="submit" id="generateBtn" class="generate-btn">
                            <div class="loading-spinner"></div>
                            <span id="btnText">Generate Image</span>
                        </button>
                        <div class="progress-bar" id="progressBar" style="display:none; margin-top:12px; height:8px; background:rgba(255,255,255,0.03); border-radius:6px; overflow:hidden;">
                            <div class="progress-fill" id="progressFill" style="background:linear-gradient(90deg,#ff7b2f,#9a5bff); width:0%; height:100%;"></div>
                        </div>
                    </form>
                    <div id="status" class="status" style="display:none; margin-top:12px;"></div>
                    <div id="resultSection" class="result-section" style="margin-top:12px; display:none;">
                        <img id="generatedImage" class="generated-image" alt="Generated image" style="width:100%; border-radius:10px;" />
                        <button id="downloadBtn" class="download-btn" style="margin-top:10px;">Download Image</button>
                    </div>
                </div>
            </div>
            <div id="historyPage" style="display:none;">
                <div class="card">
                    <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                        <h2 style="margin:0; color:#a259ff;">üñºÔ∏è Your Image History</h2>
                        <div class="history-controls" style="display:flex; gap:12px; align-items:center;">
                            <div class="search-box" style="position:relative;">
                                <input type="text" id="imageSearch" placeholder="Search prompts..."
                                       style="padding-left: 32px; width: 200px;">
                                <span style="position:absolute; left:10px; top:50%; transform:translateY(-50%);">üîç</span>
                            </div>
                            <select id="sortImages" style="padding:8px; border-radius:8px; background:rgba(255,255,255,0.05); color:#fff; border:1px solid rgba(255,255,255,0.1);">
                                <option value="newest">Newest First</option>
                                <option value="oldest">Oldest First</option>
                                <option value="favorites">Favorites</option>
                            </select>
                        </div>
                    </div>
                    <div id="historyList" style="margin-top:12px;"></div>
                </div>
            </div>
            <div id="accountPage" style="display:none;">
                <div class="card">
                    <h2 style="margin:0 0 8px 0; color:#ff9b45;">‚öôÔ∏è Account Settings</h2>
                    <div id="accountInfo" style="margin-top:12px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>
